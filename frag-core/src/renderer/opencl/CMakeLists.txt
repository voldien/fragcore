
#ADD_DEFINITIONS(-DCL_TARGET_OPENCL_VERSION=120)
FIND_PACKAGE(OpenCL)
IF(OpenCL_FOUND)
	MESSAGE(STATUS "OpenCL: ${OpenCL_LIBRARY}")
ENDIF()

# Source files.
FILE(GLOB SOURCE_FILES ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp)

#
ADD_LIBRARY(fragcore-rcl  ${SOURCE_FILES} )
TARGET_LINK_LIBRARIES(fragcore-rcl ${OpenCL_LIBRARIES} fragcore)
TARGET_INCLUDE_DIRECTORIES(fragcore-rcl PRIVATE ${OpenCL_INCLUDE_DIRS})
SET_TARGET_PROPERTIES(fragcore-rcl PROPERTIES COMPILE_FLAGS "-DCL_TARGET_OPENCL_VERSION=120")
ADD_DEPENDENCIES(fragcore-rcl fragcore)
INSTALL(TARGETS fragcore-rcl DESTINATION lib)